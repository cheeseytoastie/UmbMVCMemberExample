@model Umbraco714.Models.MvcMemberRegisterModel


@if (User.Identity.IsAuthenticated)
{
    <p>Logged in: @User.Identity.Name</p>
    <p>@Html.ActionLink("Log out", "MvcMemberLogout", "MvcMemberSurface")</p>
}
else
{
    if (@TempData["Success"] == null)
    {
        using (Html.BeginUmbracoForm<Umbraco714.Controllers.MvcMemberSurfaceController>("MvcMemberRegister", "MvcMember"))
        {
            <h2>Register Here!</h2>
            <div class="controls controls-row">
                @Html.LabelFor(m => m.FirstName, "Enter Your First Name: ", new { @name = "usernameLbl", @class = "frmLabel" })
                @Html.TextBoxFor(m => m.FirstName, new { @class = "span3", placeholder = "First Name" })
                @Html.ValidationMessageFor(m => m.FirstName)
            </div>
            <div class="controls controls-row">
                @Html.LabelFor(m => m.LastName, "Enter Your Last Name: ", new { @name = "usernameLbl", @class = "frmLabel" })
                @Html.TextBoxFor(m => m.LastName, new { @class = "span3", placeholder = "Last Name" })
                @Html.ValidationMessageFor(m => m.LastName)
            </div>
            <div class="controls controls-row">
                @Html.LabelFor(m => m.Email, "Enter Your Email: ", new { @name = "emailLbl", @class = "frmLabel" })
                @Html.TextBoxFor(m => m.Email, new { @class = "span3", placeholder = "Email" })
                @Html.ValidationMessageFor(m => m.Email)
            </div>
            <div class="controls controls-row">
                @Html.LabelFor(m => m.Password, "Enter Your Password: ", new { @name = "passwordLbl", @class = "frmLabel" })
                @Html.PasswordFor(m => m.Password, new { @class = "span3", placeholder = "Password" })
                @Html.ValidationMessageFor(m => m.Password)
            </div>
            <div class="controls controls-row">
                @Html.LabelFor(m => m.MailingListInclude, "Check if you'd like to join our mailing list:", new { @name = "remembermeLbl", @class = "frmLabel" })
                @Html.CheckBoxFor(m => m.MailingListInclude, new { @class = "span3" })
                @Html.ValidationMessageFor(m => m.MailingListInclude)
            </div>
                @*Html.EditorFor(x => Model)*@

            <div class="controls">
                <button id="contact-submit" type="submit" class="btn btn-primary input-medium pull-right">Register</button>
                <p>@TempData["Status"]</p>
            </div>
        }
    }
    else   
    { 
     <div class="controls">
            <p>@Html.Raw(@TempData["Status"])</p>
    </div>
    } 
}